{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Grid,User,FileText}from'lucide-react';import ProfileHeader from'./ProfileHeader';import TabNavigation from'./TabNavigation';import ProjectGrid from'./ProjectGrid';import AboutGrid from'./AboutGrid';import BlogModal from'./BlogModal';import ProjectModal from'./ProjectModal';import CreateBlogPost from'./CreateBlogPost';import CustomCursor from'./CustomCursor';import{profileData,projects}from'./data';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InstagramProfile=()=>{const[activeTab,setActiveTab]=useState('projects');const[isTransitioning,setIsTransitioning]=useState(false);const[isBlogModalOpen,setIsBlogModalOpen]=useState(false);const[isProjectModalOpen,setIsProjectModalOpen]=useState(false);const[activeProject,setActiveProject]=useState(null);const[isZooming,setIsZooming]=useState(false);const[blogPosts,setBlogPosts]=useState([]);const[isCreatePostModalOpen,setIsCreatePostModalOpen]=useState(false);const apiKey=process.env.REACT_APP_API_KEY;const tabRefs=useRef({});useEffect(()=>{fetchBlogPosts();},[]);useEffect(()=>{if(isTransitioning){const timer=setTimeout(()=>setIsTransitioning(false),300);return()=>clearTimeout(timer);}},[isTransitioning]);const fetchBlogPosts=async()=>{try{const response=await fetch('https://portfolio-blog-backend-aaa66fdc9469.herokuapp.com/get_posts',{method:'GET',// Specify the request method\nheaders:{'x-api-key':apiKey,'Content-Type':'application/json'// Set content type (if necessary)\n}});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();console.log('Fetched data:',data);if(Array.isArray(data.posts)){setBlogPosts(data.posts);}else if(typeof data==='object'&&data!==null){setBlogPosts(Object.values(data));}else{console.error('Unexpected data structure:',data);setBlogPosts([]);}}catch(error){console.error('Error fetching blog posts:',error);setBlogPosts([]);}};const handleTabChange=tab=>{setIsTransitioning(true);setActiveTab(tab);if(tab==='blog'){openBlogModal();}else{setTimeout(()=>setIsTransitioning(false),150);}};const openBlogModal=()=>{setIsBlogModalOpen(true);setTimeout(()=>{setIsZooming(true);},50);};const closeBlogModal=()=>{setIsZooming(false);setTimeout(()=>{setIsBlogModalOpen(false);setActiveTab('projects');setIsTransitioning(false);},300);};const openProjectModal=project=>{setActiveProject(project);setIsProjectModalOpen(true);setTimeout(()=>{setIsZooming(true);},50);};const closeProjectModal=()=>{setIsZooming(false);setTimeout(()=>{setIsProjectModalOpen(false);setActiveProject(null);},300);};const handlePostCreated=newPost=>{setBlogPosts(prevPosts=>[newPost,...prevPosts]);setIsCreatePostModalOpen(false);};const tabs=[{name:'PROJECTS',icon:Grid,value:'projects'},{name:'ABOUT ME',icon:User,value:'about'},{name:'BLOG',icon:FileText,value:'blog'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto p-4 bg-gray-900 text-gray-300\",children:[/*#__PURE__*/_jsx(CustomCursor,{}),/*#__PURE__*/_jsx(ProfileHeader,{profileData:profileData,blogPosts:blogPosts}),/*#__PURE__*/_jsx(TabNavigation,{tabs:tabs,activeTab:activeTab,handleTabChange:handleTabChange,tabRefs:tabRefs}),/*#__PURE__*/_jsxs(\"div\",{className:`transition-opacity duration-300 ${isTransitioning?'opacity-0':'opacity-100'}`,children:[activeTab==='projects'&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4\",children:/*#__PURE__*/_jsx(ProjectGrid,{projects:projects,openProjectModal:openProjectModal})}),activeTab==='about'&&/*#__PURE__*/_jsx(AboutGrid,{})]}),isBlogModalOpen&&/*#__PURE__*/_jsx(BlogModal,{isZooming:isZooming,closeBlogModal:closeBlogModal,blogPosts:blogPosts,setIsCreatePostModalOpen:setIsCreatePostModalOpen}),isProjectModalOpen&&/*#__PURE__*/_jsx(ProjectModal,{isZooming:isZooming,closeProjectModal:closeProjectModal,activeProject:activeProject}),isCreatePostModalOpen&&/*#__PURE__*/_jsx(CreateBlogPost,{onClose:()=>setIsCreatePostModalOpen(false),onPostCreated:handlePostCreated})]});};export default InstagramProfile;","map":{"version":3,"names":["React","useState","useEffect","useRef","Grid","User","FileText","ProfileHeader","TabNavigation","ProjectGrid","AboutGrid","BlogModal","ProjectModal","CreateBlogPost","CustomCursor","profileData","projects","jsx","_jsx","jsxs","_jsxs","InstagramProfile","activeTab","setActiveTab","isTransitioning","setIsTransitioning","isBlogModalOpen","setIsBlogModalOpen","isProjectModalOpen","setIsProjectModalOpen","activeProject","setActiveProject","isZooming","setIsZooming","blogPosts","setBlogPosts","isCreatePostModalOpen","setIsCreatePostModalOpen","apiKey","process","env","REACT_APP_API_KEY","tabRefs","fetchBlogPosts","timer","setTimeout","clearTimeout","response","fetch","method","headers","ok","Error","status","data","json","console","log","Array","isArray","posts","Object","values","error","handleTabChange","tab","openBlogModal","closeBlogModal","openProjectModal","project","closeProjectModal","handlePostCreated","newPost","prevPosts","tabs","name","icon","value","className","children","onClose","onPostCreated"],"sources":["/home/jeremiahwarinner/Documents/jeremiahwarinner.github.io/god/my-profile-app/src/components/InstagramProfile.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Grid, User, FileText } from 'lucide-react';\r\nimport ProfileHeader from './ProfileHeader';\r\nimport TabNavigation from './TabNavigation';\r\nimport ProjectGrid from './ProjectGrid';\r\nimport AboutGrid from './AboutGrid';\r\nimport BlogModal from './BlogModal';\r\nimport ProjectModal from './ProjectModal';\r\nimport CreateBlogPost from './CreateBlogPost';\r\nimport CustomCursor from './CustomCursor';\r\nimport { profileData, projects } from './data';\r\n\r\nconst InstagramProfile = () => {\r\n  const [activeTab, setActiveTab] = useState('projects');\r\n  const [isTransitioning, setIsTransitioning] = useState(false);\r\n  const [isBlogModalOpen, setIsBlogModalOpen] = useState(false);\r\n  const [isProjectModalOpen, setIsProjectModalOpen] = useState(false);\r\n  const [activeProject, setActiveProject] = useState(null);\r\n  const [isZooming, setIsZooming] = useState(false);\r\n  const [blogPosts, setBlogPosts] = useState([]);\r\n  const [isCreatePostModalOpen, setIsCreatePostModalOpen] = useState(false);\r\n  const apiKey = process.env.REACT_APP_API_KEY;\r\n\r\n  const tabRefs = useRef({});\r\n\r\n  useEffect(() => {\r\n    fetchBlogPosts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isTransitioning) {\r\n      const timer = setTimeout(() => setIsTransitioning(false), 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isTransitioning]);\r\n\r\n  const fetchBlogPosts = async () => {\r\n    try {\r\n      const response = await fetch('https://portfolio-blog-backend-aaa66fdc9469.herokuapp.com/get_posts', {\r\n        method: 'GET', // Specify the request method\r\n        headers: {\r\n          'x-api-key': apiKey, \r\n          'Content-Type': 'application/json', // Set content type (if necessary)\r\n        },\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      console.log('Fetched data:', data);\r\n      \r\n      if (Array.isArray(data.posts)) {\r\n        setBlogPosts(data.posts);\r\n      } else if (typeof data === 'object' && data !== null) {\r\n        setBlogPosts(Object.values(data));\r\n      } else {\r\n        console.error('Unexpected data structure:', data);\r\n        setBlogPosts([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching blog posts:', error);\r\n      setBlogPosts([]);\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (tab) => {\r\n    setIsTransitioning(true);\r\n    setActiveTab(tab);\r\n    if (tab === 'blog') {\r\n      openBlogModal();\r\n    } else {\r\n      setTimeout(() => setIsTransitioning(false), 150);\r\n    }\r\n  };\r\n\r\n  const openBlogModal = () => {\r\n    setIsBlogModalOpen(true);\r\n    setTimeout(() => {\r\n      setIsZooming(true);\r\n    }, 50);\r\n  };\r\n\r\n  const closeBlogModal = () => {\r\n    setIsZooming(false);\r\n    setTimeout(() => {\r\n      setIsBlogModalOpen(false);\r\n      setActiveTab('projects');\r\n      setIsTransitioning(false);\r\n    }, 300);\r\n  };\r\n\r\n  const openProjectModal = (project) => {\r\n    setActiveProject(project);\r\n    setIsProjectModalOpen(true);\r\n    setTimeout(() => {\r\n      setIsZooming(true);\r\n    }, 50);\r\n  };\r\n\r\n  const closeProjectModal = () => {\r\n    setIsZooming(false);\r\n    setTimeout(() => {\r\n      setIsProjectModalOpen(false);\r\n      setActiveProject(null);\r\n    }, 300);\r\n  };\r\n\r\n  const handlePostCreated = (newPost) => {\r\n    setBlogPosts(prevPosts => [newPost, ...prevPosts]);\r\n    setIsCreatePostModalOpen(false);\r\n  };\r\n\r\n  const tabs = [\r\n    { name: 'PROJECTS', icon: Grid, value: 'projects' },\r\n    { name: 'ABOUT ME', icon: User, value: 'about' },\r\n    { name: 'BLOG', icon: FileText, value: 'blog' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-4 bg-gray-900 text-gray-300\">\r\n      <CustomCursor />\r\n      <ProfileHeader profileData={profileData} blogPosts={blogPosts} />\r\n\r\n      <TabNavigation \r\n        tabs={tabs} \r\n        activeTab={activeTab} \r\n        handleTabChange={handleTabChange} \r\n        tabRefs={tabRefs} \r\n      />\r\n\r\n      <div className={`transition-opacity duration-300 ${isTransitioning ? 'opacity-0' : 'opacity-100'}`}>\r\n        {activeTab === 'projects' && (\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <ProjectGrid projects={projects} openProjectModal={openProjectModal} />\r\n          </div>\r\n        )}\r\n        {activeTab === 'about' && <AboutGrid />}\r\n      </div>\r\n\r\n      {isBlogModalOpen && (\r\n        <BlogModal \r\n          isZooming={isZooming}\r\n          closeBlogModal={closeBlogModal}\r\n          blogPosts={blogPosts}\r\n          setIsCreatePostModalOpen={setIsCreatePostModalOpen}\r\n        />\r\n      )}\r\n\r\n      {isProjectModalOpen && (\r\n        <ProjectModal \r\n          isZooming={isZooming}\r\n          closeProjectModal={closeProjectModal}\r\n          activeProject={activeProject}\r\n        />\r\n      )}\r\n      {isCreatePostModalOpen && (\r\n        <CreateBlogPost\r\n          onClose={() => setIsCreatePostModalOpen(false)}\r\n          onPostCreated={handlePostCreated}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstagramProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}